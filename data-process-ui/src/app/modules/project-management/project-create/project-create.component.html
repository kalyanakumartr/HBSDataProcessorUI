<div class="modal-content">
  <div class="modal-header">
    <div class="modal-title h4" id="example-modal-sizes-title-lg">
      <b><label class="heading">
      <ng-container >
        <ng-container *ngIf="projectId">Edit Project : {{projectId}} </ng-container>
        <ng-container *ngIf="!projectId">Create  Project  </ng-container>
     </ng-container>
    </label></b>
    </div>
    <button type="button" #closebutton class="close" data-dismiss="modal" (click)="modal.dismiss()">&times;</button>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 404px;">
    <ng-container *ngIf="isLoading$ | async">
      <div class="overlay-layer bg-transparent">
        <div class="spinner spinner-lg spinner-success"></div>
      </div>
    </ng-container>

    <ng-container >
      <form action="#" class="form form-label-right" [formGroup]="formGroup">
        <div class="form-group row">
          <div class="col-lg-3">
            <label class="form-label"> Division</label>

                <input type="text" class="form-control form-control-lg" name="division" value="{{divisionId}}"
                 readonly/>

          </div>
          <div class="col-lg-3">
            <label class="form-label">Client Name</label>
            <input type="text" class="form-control form-control-lg" name="clientName"
              placeholder="Client Name" autocomplete="off" [class.is-invalid]="isControlInvalid('clientName')" maxlength=50
              [class.is-valid]="isControlValid('clientName')" formControlName="clientName" />

            <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'clientName')">Client Name should have at
              least 3 symbols</div>
            <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'clientName')">Client Name should have
              maximum 50 characters</div>
          </div>

          <div class="col-lg-3">
            <label class="form-label">Project Name</label>
            <input type="text" class="form-control form-control-lg" name="projectName"
              placeholder="Project Name" autocomplete="off" [class.is-invalid]="isControlInvalid('projectName')" maxlength=50
              [class.is-valid]="isControlValid('projectName')" formControlName="projectName" />
            <div class="invalid-feedback" *ngIf="controlHasError('required', 'projectName')">Project Name is required</div>
            <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'projectName')">Project Name should have at
              least 3 symbols</div>
            <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'projectName')">Project Name should have
              maximum 50 characters</div>
          </div>
          <div class="col-lg-3">
            <label class="form-label">Project Type</label>

              <input type="text" class="form-control form-control-lg" name="projectType"
              placeholder="Project Type" autocomplete="off" [class.is-invalid]="isControlInvalid('projectType')" maxlength=50
              [class.is-valid]="isControlValid('projectType')" formControlName="projectType" />
            <div class="invalid-feedback" *ngIf="controlHasError('required', 'projectType')">Project Type is required</div>
            <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'projectType')">Project Name should have at
              least 3 symbols</div>
            <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'projectType')">Project Name should have
              maximum 50 characters</div>
          </div>


          </div>



        <div class="form-group row">

          <div class="col-lg-3">
            <label class="form-label">Project Manager Name</label>
            <select class="form-control form-control-lg"
             name="projectmanagerName"
              [class.is-invalid]="isControlInvalid('projectmanagerName')" formControlName="projectmanagerName">
              <option value="0" [selected]="true">Select Manager</option>
              <option
              *ngFor="let user of userList"
              [ngValue]="user.employeeId"
              >
              {{ user.fullName }}
            </option>
            </select>

            </div>

          <div class="col-lg-3">
            <label>Project Created Date</label>
            <div class="input-group input-group-solid">
              <input type="text" name="projectcdate" class="form-control form-control-lg form-control-solid" autocomplete="off"
                placeholder="dd/mm/yyyy" ngbDatepicker [maxDate]="maxDate"  [class.is-invalid]="isControlInvalid('projectcdate')"
                [class.is-valid]="isControlValid('projectcdate')" formControlName="projectcdate" readonly="true" /> {{formGroup.value.projectcdate | date: 'dd-MMM-yyyy'}}

            </div>
            <div class="valid-feedback" *ngIf="isControlValid('projectcdate')">Date of Birth was entered correct</div>
            <div class="invalid-feedback" *ngIf="controlHasError('required', 'projectcdate')">Please enter <b>Date of Birth</b>
              in 'dd/mm/yyyy' format</div>
          </div>

          <div class="col-lg-3">

            <label class="form-label">PO Number</label>
            <input type="text" class="form-control form-control-lg " name="poNumber"
              placeholder="PO Number" autocomplete="off" [class.is-invalid]="isControlInvalid('poNumber')" maxlength=50
              [class.is-valid]="isControlValid('poNumber')" formControlName="poNumber" />

            <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'poNumber')">PO Number should have at
              least 3 symbols</div>
            <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'poNumber')">PO Number should have
              maximum 50 characters</div>
          </div>

          <div class="col-lg-3">
            <label>PO Dated</label>
            <div class="input-group input-group-solid">
              <input type="text" name="poDate" class="form-control form-control-lg form-control-solid" autocomplete="off"
                placeholder="mm/dd/yyyy" ngbDatepicker #d2="ngbDatepicker" [class.is-invalid]="isControlInvalid('poDate')"
                [class.is-valid]="isControlValid('poDate')" formControlName="poDate" readonly="true" />
                {{formGroup.value.poDate | date: 'dd-MMM-yyyy'}}

               <div class="input-group-append" (click)="d2.toggle()">
                <span class="input-group-text">
                  <i class="text-dark-50 flaticon-calendar"></i>
                </span>
              </div>
            </div>


          </div>

          </div>
        <div class="form-group row">
          <div class="col-lg-3">
            <label>Billing Cycle</label>
            <div class="input-group input-group-solid">
              <input type="text" name="bcycle" class="form-control form-control-lg form-control-solid" autocomplete="off"
                placeholder="mm/dd/yyyy" ngbDatepicker #d3="ngbDatepicker" [class.is-invalid]="isControlInvalid('bcycle')"
                [class.is-valid]="isControlValid('bcycle')" formControlName="bcycle" readonly="true" /> {{formGroup.value.bcycle | date: 'dd-MMM-yyyy'}}
              <div class="input-group-append" (click)="d3.toggle()">
                <span class="input-group-text">
                  <i class="text-dark-50 flaticon-calendar"></i>
                </span>
              </div>
            </div>


          </div>


          <div class="col-lg-3">
            <label class="form-label">Project Status</label>
            <select class="form-control form-control-lg" name="projectStatus"
              [class.is-invalid]="isControlInvalid('projectStatus')" formControlName="projectStatus" placeholder="Project Status">
              <option selected value="YetToStart">Yet to Start</option>
              <option value="InProgress">in-progress</option>
              <option value="Hold">On Hold</option>
              <option value="Completed">Completed</option>

            </select>
            <div class="feedback">Project  <b>Status</b></div>
            </div>

            <div class="col-lg-3">
              <label class="form-label">Deliverables</label>


            <select class="form-control form-control-lg"
            name="deliverables"
          [class.is-invalid]="isControlInvalid('deliverables')" formControlName="deliverables">
               <option
              *ngFor="let moDtype of getdeliveryModeType"
            [ngValue]="moDtype.deliveryId"
              >
            {{ moDtype.deliveryTypeName}}</option>

             </select>






              </div>

            <div class="col-lg-3">
              <label class="form-label">Mode of Delivery</label>

            <select class="form-control form-control-lg"
            name="moDelivery"
          [class.is-invalid]="isControlInvalid('moDelivery')" formControlName="moDelivery">
               <option
              *ngFor="let moDlist of deliveryModeList"
            [ngValue]="moDlist.modeId"
              >
            {{ moDlist.modeName}}</option>

             </select>
            <div class="feedback">Mode of<b> Delivery</b></div>
              </div>

        </div>
        <div class="form-group row">

          <div class="col-lg-3">
            <label class="form-label">Input Receiving Mode</label>

            <select class="form-control form-control-lg " name="irMode"
            [class.is-invalid]="isControlInvalid('irMode')" formControlName="irMode" placeholder="Input Receiving Mode">
            <option value="ftp">FTP</option>
            <option value="email">Email</option>
            <option value="Hard-disk">Hard disk</option>
            <option value="direct-client-server">Direct Client Server</option>


          </select>
          <div class="feedback">Input Receiving<b> Mode</b></div>
        </div>

          <div class="col-lg-3">
            <label class="form-label">Input Type</label>
            <input type="text" class="form-control form-control-lg" name="inputType"
              placeholder="Input Type" autocomplete="off" [class.is-invalid]="isControlInvalid('inputType')" maxlength=50
              [class.is-valid]="isControlValid('inputType')" formControlName="inputType" />
                        <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'inputType')">Input Type should have at
              least 3 symbols</div>
            <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'inputType')">Input Type should have
              maximum 50 characters</div>
          </div>

          <div class="col-lg-3">
            <label>Display in Other UI Project List </label>
            <select class="form-control form-control-lg" name="displayInOP"
              [class.is-invalid]="isControlInvalid('displayInOP')" formControlName="displayInOP">
              <option value="Active">Active</option>
              <option value="Inactive">Inactive</option>

            </select>
            <div class="feedback">Display in Other UI <b>Project List</b></div>
          </div>
          <div class="col-lg-3">
            <label class="form-label"> Total Projected work volume</label>
            <input type="text" class="form-control form-control-lg" name="tpwvol" maxlength=15
              placeholder="TPW VOLUME" autocomplete="off" [class.is-invalid]="isControlInvalid('tpwvol')"
              [class.is-valid]="isControlValid('tpwvol')" formControlName="tpwvol" />

          </div>

        </div>

        <div class="form-group row">

          <div class="col-lg-3">
            <label class="form-label">Units of Measurement (UOM)</label>

            <select class="form-control form-control-lg"
             name="uom"
              [class.is-invalid]="isControlInvalid('uom')" formControlName="uom">
                            <option
              *ngFor="let uom of uomList"
              [ngValue]="uom.unitID"
            >
              {{ uom.unitName}}
            </option>
            </select>
            </div>


          <div class="col-lg-3">
            <label class="form-label">Received Work Volume</label>
            <input type="text" class="form-control form-control-lg" name="rwVol"
              placeholder="R W Volume" autocomplete="off" [class.is-invalid]="isControlInvalid('rwVol')" maxlength=50
              [class.is-valid]="isControlValid('rwVol')" formControlName="rwVol" />

            <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'rwVol')">R W Volume should have
              maximum 50 characters</div>
          </div>

          <div class="col-lg-3">

            <label class="form-label">Estimated Total Hours</label>
            <input type="text" class="form-control form-control-lg" name="etHours" placeholder="Estimated Total Hours"
              autocomplete="off" [class.is-invalid]="isControlInvalid('etHours')" maxlength=15
              [class.is-valid]="isControlValid('etHours')" formControlName="etHours" />
              <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'etHours')">Estimated Total Hours should have at
                least 10 symbols</div>
              <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'etHours')">Estimated Total Hours should not be morethan 13 symbols</div>


          </div>


          <div class="col-lg-3">

            <label class="form-label">Planned No. of Resources</label>
            <input type="text" class="form-control form-control-lg" name="etHours" placeholder="Planned No. of Resources"
              autocomplete="off" [class.is-invalid]="isControlInvalid('resoueces')" maxlength=15
              [class.is-valid]="isControlValid('etHours')" formControlName="resoueces" />
              <!--<div class="invalid-feedback" *ngIf="controlHasError('minlength', 'resoueces')">Planned No. of Resources should have at
                least 10 symbols</div>-->
              <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'resoueces')">Planned No. of Resources should not be morethan 13 symbols</div>


          </div>


        </div>
          <div class="form-group row">

            <div class="col-lg-3">

              <label class="form-label">No of Days Requried to complete</label>
              <input type="text" class="form-control form-control-lg" name="noDays" placeholder="No of Days Requried to complete"
                autocomplete="off" [class.is-invalid]="isControlInvalid('noDays')" maxlength=15
                [class.is-valid]="isControlValid('noDays')" formControlName="noDays" />
                <!--<div class="invalid-feedback" *ngIf="controlHasError('minlength', 'resoueces')">Planned No. of Resources should have at
                  least 10 symbols</div>-->
                <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'noDays')">Planned No. of Resources should not be morethan 13 symbols</div>


            </div>


            <div class="col-lg-3">
              <label>BPS Start Date</label>
              <div class="input-group input-group-solid">
                <input type="text" name="bpsDate" class="form-control form-control-lg form-control-solid" autocomplete="off"
                  placeholder="mm/dd/yyyy" ngbDatepicker #d4="ngbDatepicker" [class.is-invalid]="isControlInvalid('bpsDate')"
                  [class.is-valid]="isControlValid('bpsDate')" formControlName="bpsDate" readonly="true" /> {{formGroup.value.bpsDate | date: 'dd-MMM-yyyy'}}
                <div class="input-group-append" (click)="d4.toggle()">
                  <span class="input-group-text">
                    <i class="text-dark-50 flaticon-calendar"></i>
                  </span>
                </div>
              </div>

            </div>


          <div class="col-lg-3">
            <label>BPS Planned Completion Date</label>
            <div class="input-group input-group-solid">
              <input type="text" name="bpscDate" class="form-control form-control-lg form-control-solid" autocomplete="off"
                placeholder="mm/dd/yyyy" ngbDatepicker #d5="ngbDatepicker" [class.is-invalid]="isControlInvalid('bpscDate')"
                [class.is-valid]="isControlValid('bpscDate')" formControlName="bpscDate" readonly="true" /> {{formGroup.value.bpscDate | date: 'dd-MMM-yyyy'}}
              <div class="input-group-append" (click)="d5.toggle()">
                <span class="input-group-text">
                  <i class="text-dark-50 flaticon-calendar"></i>
                </span>
              </div>
            </div>


          </div>


          <div class="col-lg-3">
            <label>Client Expected Completion Date</label>
            <div class="input-group input-group-solid">
              <input type="text" name="cecDate" class="form-control form-control-lg form-control-solid" autocomplete="off"
                placeholder="mm/dd/yyyy" ngbDatepicker #d6="ngbDatepicker" [class.is-invalid]="isControlInvalid('cecDate')"
                [class.is-valid]="isControlValid('cecDate')" formControlName="cecDate" readonly="true" /> {{formGroup.value.cecDate | date: 'dd-MMM-yyyy'}}
              <div class="input-group-append" (click)="d6.toggle()">
                <span class="input-group-text">
                  <i class="text-dark-50 flaticon-calendar"></i>
                </span>
              </div>
            </div>


          </div>
          </div>
          <div class="form-group row">
          <div class="col-lg-3">
            <label>Project - Actual Completed Date</label>
            <div class="input-group input-group-solid ">
              <input type="text" name="pacDate" class="form-control form-control-lg form-control-solid" autocomplete="off"
                placeholder="mm/dd/yyyy" ngbDatepicker #d7="ngbDatepicker" [class.is-invalid]="isControlInvalid('pacDate')"
                [class.is-valid]="isControlValid('pacDate')" formControlName="pacDate" readonly="true" /> {{formGroup.value.pacDate | date: 'dd-MMM-yyyy'}}
              <div class="input-group-append" (click)="d7.toggle()">
                <span class="input-group-text">
                  <i class="text-dark-50 flaticon-calendar"></i>
                </span>
              </div>
            </div>


          </div>



        </div>
      </form>
    </ng-container>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light btn-elevate mr-2" (click)="modal.dismiss()">Cancel</button>


      <button type="submit" class="btn btn-primary btn-elevate" (click)="save()"
        >Save</button>

  </div>
</div>


